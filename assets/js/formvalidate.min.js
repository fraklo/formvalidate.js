!function(){"use strict";window.FormValidate=function(e){function t(e,t){var a;for(a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function a(){var e,t;for(e=document.getElementsByClassName(b.formClass),t=0;t<e.length;t++)r(e[t])}function r(e){var t,a;t=e.querySelectorAll("input,textarea,select"),n(e),s(t),a=e.getElementsByClassName(b.submitClass)[0],a.addEventListener("click",function(a){e.className=e.className.replace(b.formSuccessClass,""),e.className.indexOf(b.processingClass)<0&&(e.className=e.className+" "+b.processingClass,o(e,t,!0))})}function s(e){var t;for(t=0;t<e.length;t++)(b.activeInputFiltering||e[t].getAttribute("data-"+b.dataActiveValidation))&&i(e[t])}function n(e){var t=e.className.toLowerCase(),a=b.formSuccessClass.toLowerCase();e.addEventListener("submit",function(e){t.indexOf(a)<0&&e.preventDefault()})}function i(e,t){t||(t=e.getAttribute("data-"+b.dataTag)),t&&A.indexOf(t)>=0&&e.addEventListener("keyup",function(e){var a=e.target;a.value=c(a.value,t,!0)})}function o(e,t,a){var r,s,n,i={},o={isValid:!0,errors:[]};for(s=0;s<t.length;s++)r=t[s],"radio"===r.type.toLowerCase()?r.getAttribute("data-"+b.requiredTag)&&(i[r.name]=!0):(n=l(r),n||(o.isValid=!1,r.name&&o.errors.push(r.name)));for(var c in i)i.hasOwnProperty(c)&&(F(c)||(o.errors.push(c),o.isValid=!1));return o.isValid?e.className=e.className.replace(b.processingClass,b.formSuccessClass):e.className=e.className.replace(b.processingClass,""),a&&o.isValid?void e.submit():o}function l(e,t,a){var r,s;return(a||e.getAttribute("data-"+b.requiredTag))&&(a=!0),s="select"===e.tagName.toLowerCase()?"select":e.type.toLowerCase(),r=!0,"select"===s?a&&0===e.selectedIndex&&(r=!1):"radio"===s?a&&(r=F(e.name)):(t||(t=e.getAttribute("data-"+b.dataTag)),"checkbox"===s&&a?r=e.checked:t&&A.indexOf(t)>=0&&(0===e.value.length?a&&(r=!1):r=c(e.value,t))),r||N(e),r}function c(e,t,a){switch(t){case"alpha":e=u(e,a);break;case"alpha_num":e=f(e,a);break;case"decimal":e=m(e,a);break;case"email":e=d(e,a);break;case"integer":e=p(e,a);break;case"name":e=g(e,a);break;case"phone":e=v(e,a);break;case"plain_text":e=h(e,a)}return e}function u(e,t){var a=/[^a-zA-Z]/g;return t?e=e.replace(a,""):(a=/^[a-zA-Z]+$/,e=a.test(e)),e}function f(e,t){var a=/[^a-zA-Z0-9]/g;return t?e=e.replace(a,""):(a=/^[a-zA-Z0-9]+$/,e=a.test(e)),e}function m(e,t){var a,r=/[^0-9.]/g;return t?(e=e.replace(r,""),a=e.indexOf("."),a>=0&&(e=e.slice(0,a)+"."+e.slice(a).replace(/[.]/g,""))):(r=/^\d+(\.\d+)/,e=r.test(e)),e}function d(e,t){var a=/[^\w-@\.\+]/g;return t?e=e.replace(a,""):(a=/^([\w-\.\+]+@([\w-]+\.)+[\w-]{2,})?$/,e=a.test(e)),e}function p(e,t){var a=/[^\d]/g;return t?e=e.replace(a,""):(a=/^[\d]+$/,e=a.test(e)),e}function g(e,t){var a=/[^-.\sa-zA-Z]/g;return t?e=e.replace(a,""):(a=/^([-.\sa-zA-Z])/,e=a.test(e)),e}function v(e,t){var a,r=10,e=p(e,!0),s="-";return t?e.length>=r?(e=e.replace(/(\d{3})(\d{3})(\d{4})/,"$1"+s+"$2"+s+"$3"),e=e.substring(0,r+2)):e=e.length>6?e.replace(/(\d{3})(\d{3})/,"$1"+s+"$2"+s):e.replace(/(\d{3})/,"$1"+s):(a=/(\d{3})(\d{3})(\d{4})/,e=e.length===r&&a.test(e)?!0:!1),e}function h(e,t){var a,r=/[^\w-.!@#$%&*()+?;:,'\s]/g;return t?a=e.replace(r,""):(r=/^([\w-.!@#$%&*()+?;:,'\s])/,a=r.test(e)),a}function _(e){var t=e.target,a=t;"self"!==b.errorTarget&&(a=w(t,b.errorTarget)),"radio"===t.type.toLowerCase()?C(t.name):(a.className=a.className.replace(" "+b.errorClass,""),t.removeEventListener("focus",N,!1))}function C(e){var t,a,r,s=document.getElementsByName(e);for(t=0;t<s.length;t++)a=s[t],r=a,"self"!==b.errorTarget&&(r=w(a,b.errorTarget)),r.className=r.className.replace(" "+b.errorClass,""),a.removeEventListener("focus",N,!1)}function N(e){var t=e;"self"!==b.errorTarget&&(t=w(e,b.errorTarget)),t.className.indexOf(b.errorClass)<0&&(t.className=t.className+" "+b.errorClass,e.addEventListener("focus",_,!1))}function F(e){var t,a=document.getElementsByName(e),r=!1;for(t=0;t<a.length;t++)if(a[t].checked){r=!0;break}if(r===!1)for(t=0;t<a.length;t++)N(a[t]);return r}function w(e,t){var a;for(t=t.toLowerCase();e.parentNode&&(a=e.className.toLowerCase(),!(a.indexOf(t)>-1));)e=e.parentNode;return e}var b,y={activeInputFiltering:!0,dataActiveValidation:"active-validation",dataTag:"validate",formClass:"js_form_validate",formSuccessClass:"validate-success",errorClass:"validate-error",errorTarget:"self",processingClass:"processing",requiredTag:"required",submitClass:"js_form_validate_submit"},A=["alpha","alpha_num","decimal","email","integer","name","phone","plain_text"];b=e&&"object"==typeof e?t(y,e):y,this.form__init=function(){a()},this.form__setForm=function(e){r(e)},this.form__setInputFiltering=function(e,t){i(e,t)},this.form__setFormFiltering=function(e){var t=e.querySelectorAll("input,textarea,select");s(e,t)},this.form__validateForm=function(e,t){var a=e.querySelectorAll("input,textarea,select");return n(e),o(e,a,t)},this.form__validateInput=function(e,t){return l(e,t,!0)}},FormValidate.prototype.init=function(){this.form__init()},FormValidate.prototype.setForm=function(e){var t;for(t=0;t<e.length;t++)this.form__setForm(e[t])},FormValidate.prototype.setInputFiltering=function(e,t){var a;for(a=0;a<e.length;a++)this.form__setInputFiltering(e[a],t)},FormValidate.prototype.setFormFiltering=function(e){var t;for(t=0;t<e.length;t++)this.form__setFormFiltering(e[t])},FormValidate.prototype.validateForm=function(e,t){var a,r;for(a=0;a<e.length;a++)r=this.form__validateForm(e[a],t);return r},FormValidate.prototype.validateInput=function(e,t){return this.form__validateInput(e[0],t)}}();
